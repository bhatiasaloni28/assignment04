---
title: "index.Rmd"
output: html_document
date: "2023-10-04"
---

```{r setup, include=FALSE}
library(haven)
library(ggplot2)
library(tidyverse)

```



``` {r}

data <- read_dta('data/learning_loss_covid_database.dta')

# Scatter Plot + Line 
ggplot(data, aes(x = weeks, y = loss, color = "Line")) + 
  geom_point() + 
  geom_smooth(method = "lm", se = FALSE, color = "red", linetype = "dashed")
  theme_minimal() +
  xlab("Weeks Closed on Average in 2021") + 
  ylab("Decline in Test Scores (measured in standard deviation units)") +
  ggtitle("Decline in Test Scores due to School Closure") 
```

```{r}
# Line Graph 
  ggplot(data, aes(x = weeks, y = loss, color = "Line")) +
  geom_line(size = 1) +
  geom_point(size = 1, shape = 16) +
  theme_minimal() +
  theme(
    panel.background = element_rect(fill = "lightgray"),
    panel.grid.major = element_line(color = "white", size = 0.5),
    legend.position = "top"  # Adjust legend position
  ) +
  xlab("weeks") +
  ylab("Learning Loss") +
  ggtitle("Line Graph") +
  labs(color = "Legend Title") 

```

```{r}
# Another Version 
  ggplot() +
    geom_point(data, mapping = aes(x = weeks, y = loss)) +
    geom_smooth(data, mapping = aes(x = weeks, y = loss))
```

```{r}

geom_col(mapping = aes(x = region_code, y = loss, fill = country)) 
  scale_fill_manual(values = custom_colors) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) 


```


```{r second, echo=FALSE}

####customcolors.....

data %>%
  ggplot(mapping = aes(x = deaths, y = loss, color = region_code))+
  geom_point() + 
  geom_text
  
         

  

data %>%
  ggplot() +
  geom_col(mapping = aes(x = deaths, y = vaccine, fill = region_code)) +
  

  
  country abbreviation col

vaccine and death
  
```


```{r}

data %>%
  ggplot(mapping = aes(x = "", y = internet, fill = region_code)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar(theta = "y") +
  theme_void()

```


Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
